<div class="breadcrumb">
<a href="{{ site.baseurl }}{{ site.data.toc.toc_url }}">{{ site.data.toc.toc_title }}</a> &#187;
{% assign next = false %}
{% assign next_got = false %}
{% assign part_sel = 1000 %}
{% for item in site.data.toc.toc %}
{% if item.part == page.part %}{% assign part_sel = forloop.index %}
{% if item.url == page.url %}{{ item.title }}{% assign next = true %}
  {% if item.status == "draft" %}{{ site.data.toc.toc_draft }}{% endif %}
  {% else %}<a href="{{ site.baseurl }}{{ item.url }}">{{ item.title }}</a>{% endif %}
  {% for entry in item.chapters %}
   {% if next %}{% assign next_url = entry.url %}{% assign next_title = entry.title %}{% assign next = false %}{% assign next_got = true %}{% endif %}
   {% if entry.url == page.url %}&#187; {{ entry.title }}
    {% if entry.status == "draft" %} {{ site.data.toc.toc_draft }}{% endif %}
    {% assign next = true %}
   {% endif %}
  {% endfor %}
  {% else %}
   {% if forloop.index > part_sel %}
    {% if next_got == false %}
    {% assign next_url = item.url %}{% assign next_title = item.title %}{% assign next_got = true %}
    {% endif %}
   {% endif %}
  {% endif %}
{% endfor %}
</div>

{% comment %}
We're getting {{ next_title }} and {{ next_url }} parameters from here. Not just navigation.

Still there's a bug here - need to check forloop index and stuff to make sure I'm pointing to the third chapter... and also take into account if the chapter is "empty" as in = not written... and don't navigate there...?
{% endcomment %} 

